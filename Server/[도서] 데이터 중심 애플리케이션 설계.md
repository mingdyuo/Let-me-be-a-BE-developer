# 데이터 중심 애플리케이션 설계

<br>

애플리케이션 개발 과정의 변화

- CPU 클럭 속도는 거의 증가하지 않고 있음. 멀티코어  프로세서가 표준이 되었고 네트워크는 빨라지고 있음. 이와 함께 병렬 처리가 늘어나고 있다.
- IaaS 덕분에 쉽게 분산 시스템 개발 및 다양한 지역에 구축 가능
- 사람들은 서비스 제공에 더 높은 기준을 요구함. 서비스 중단 시간을 용납하지 못함

애플리케이션을 두 가지로 나누어 볼 수 있다.

1. 데이터 중심 애플리케이션

   데이터가 주요 challenging한 요소인 경우

2. 계산 중심 애플리케이션

   CPU 사이클이 병목인 경우

<br>

## 1장 데이터 시스템의 기초

## 01 *신뢰*할 수 있고 *확장 가능*하며 *유지보수*하기 쉬운 애플리케이션

- 오늘날 많은 애플리케이션은 데이터 중심적임. 문제가 되는 요소는 데이터의 양, 복잡도, 변화 속도이다.
- 애플리케이션이 필요로 하는 것 : 데이터베이스, 캐시, 검색 색인, 스트림 처리, 일괄 처리
- 애플리케이션마다 요구사항이 다르므로 DB 시스템도 다양한 특성이 있다.
- 신뢰성, 확장성, 유지보수성의 의미를 명확히 하자. 그리고 이를 고려하는 방법을 알아보자.

### 데이터 시스템에 대한 생각

- 데이터베이스, 큐, 캐시 등은 서로 다른 접근과 성능 특징을 가지고 있지만 데이터 시스템이라는 이름으로 퉁치는 이유

  1. 새로 생긴 툴들은 전통적인 분류에 잘 맞지 않음, 분류 간 경계가 흐림

     예) 레디스(메시지 큐로 사용하는 데이터스토어), 아파치 카프카(지속성을 보장하는 메시지 큐)

  2. 많은 애플리케이션들의 요구사항이 넓고 깊어짐. 데이터 처리와 저장을 모두 만족시킬 수 없음. 작업을 태스크로 나누고, 애플리케이션 코드를 이용해 연결한다.

     예) 인메모리 캐시, 전문 검색 서버 등을 따로 사용하며 동기화 유지

  → 개발자는 이제 애플리케이션 설계 뿐만 아니라 데이터 시스템도 함께 설계 해야 함

- 신뢰성, 확장성, 유지보수성 중심으로 살펴볼 것이다. 용어의 의미를 명확히 이해하고 엔지니어링 관점에서 생각해보자.

### 신뢰성

- 하드웨어, 소프트웨어 결함, 인적 오류에도 시스템이 **원하는 성능 수준에서 지속적으로 올바르게 동작**하는 것

- 결함과 장애는 동일하지 않다. 장애는 시스템 전체가 멈추어 사용자에게 서비스를 제공하지 못하는것

  결함으로 인해 장애가 일어나지 않도록 설계하는 것이 좋다.

- 고의적으로 결함을 유도해서 시스템이 잘 대처하도록 훈련할 수도 있다. (넷플릭스의 카오스 몽키)

  > 1. 시스템의 “정상 상태”를 정의해 정상 동작의 기준선을 설정한다.
  >
  > 2. 대조군과 실험군 양쪽에서 모두 이 정상 상태가 계속된다는 가설을 세운다.
  >
  > 3. 서버 멈춤, 하드 드라이브 고장, 네트워크 연결 끊김과 같은 실제 상황을 반영하는 변수를 도입한다.
  >
  > 4. 대조군과 실험군 사이의 차이점을 확인해 가설이 틀렸음을 입증한다.

- 보안 문제에서는 결함을 예방하는 것이 매우 중요하다. 

- 해결책을 마련할 수 있는 결함 유형을 다뤄보자.

1. 하드웨어 결함
   - 하드디스크의 평균 장애 시간은 10~50년, 10,000개의 디스크로 구성된 저장 클러스터라면 평균적으로 하루에 하나의 디스크가 죽는다고 생각하면 된다.
   - 

<br>

## 02 데이터 모델과 질의 언어

<br>

## 03 저장소와 검색

<br>

## 04 부호화와 발전

<br>

## 2장 분산 데이터

<br>

## 05 복제

<br>