### 5주 ~ 8주

| 주차                  | 내용                                     |
| --------------------- | ---------------------------------------- |
| 5주차 (04.05 ~ 04.09) | 채팅서버 리팩토링 및 스트레스 서버 제작  |
| 6주차 (04.12 ~ 04.16) | 채팅서버 리팩토링, 인던 리소스 분석 시작 |
| 7주차 (04.19 ~ 04.23) | 인던 리소스 분석, 인던 서버 제작         |
| 8주차 (04.26 ~ 04.30) | 패킷 처리 방식 변경, 클라이언트 제작     |

### 한 것들

1. `C++`
   - `Effective C++` 책을 구매하여 [공부](https://github.com/mingdyuo/Let-me-be-a-BE-developer/blob/main/C%2B%2B/%5B%EB%8F%84%EC%84%9C%5D%20Effective%20C%2B%2B.md)하고 있다. 
   - [이런 것들](https://github.com/mingdyuo/Let-me-be-a-BE-developer/blob/main/C%2B%2B/C%2B%2B%20%EC%95%8C%EA%B2%8C%EB%90%9C%20%EA%B2%83%20%EC%A0%95%EB%A6%AC.md)을 공부했다.
   - 컴파일, 링크 에러가 정말 열받는다. 전방 선언을 적절히 사용해보고 있다.
2. [채팅서버 리팩토링, 스트레스 서버 제작](https://github.com/mingdyuo/TCP-socket-chatting-server)
   - IOCP 기반으로 클라이언트를 생성하는 스트레스 서버를 제작해 보았다.
   - 회사 리소스를 받아서 어떻게 이루어지는지 분석하였다. 그리고 생성 흐름을 파악하여 사용하기 용이하도록 구조체 자료구조를 만들고 로드하였다.
3. 인던 서버 제작
   - 채팅 서버를 기반으로 이 프로젝트를 리팩토링 하는 동시에 인던 서버로 변경하였다.
   - 코딩 스타일을 통일하고, 변수명 규칙을 좀 바꾸었다. 멤버 변수의 `m_variable`, `mVariable`과 같은 것들을 `variable_`로 모두 변경하였다. 인터넷에 치면 나오는 `C++` 코딩 표준 여러 가지를 내 마음대로 섞어서 사용하였다.
   - 가능한 하나의 함수가 하나의 기능을 하도록 변경하였다. 예외 상황 처리도 해당 함수 내에서 체크하여 알아서 반환한다.
   - 각 객체에 대한 매니저 클래스를 만들고 객체에 고유 아이디를 부여하여 map 형태로 관리한다. 
   - 게임 로직 스레드(`ContentProcess`)와 IOCP 입출력 스레드(`GQCS`), 전송 스레드(`NetworkServer`)를 분리하였다. 각 객체 간에 메시지를 전달할 때에는 해당 클래스 내의 큐에 넣는 방식으로 이루어진다.
   - 스트림 클래스를 추가하고 `<<`, `>> ` operator를 정의하여 `Packet`과 `char*` 배열 사이를 매개할 수 있도록 하였다. 진짜 편하다.
4. [객체 지향 공부](https://github.com/mingdyuo/Let-me-be-a-BE-developer/blob/main/Server/%5B%EB%8F%84%EC%84%9C%5D%20%EA%B0%9D%EC%B2%B4%EC%A7%80%ED%96%A5%EC%9D%98%20%EC%82%AC%EC%8B%A4%EA%B3%BC%20%EC%98%A4%ED%95%B4.md)
   - `객체지향의 사실과 오해` 도서를 다 읽었다. 
5. [디자인 패턴](https://github.com/mingdyuo/Let-me-be-a-BE-developer/blob/main/Server/%5B%EB%8F%84%EC%84%9C%5D%20%ED%97%A4%EB%93%9C%ED%8D%BC%EC%8A%A4%ED%8A%B8%20%EB%94%94%EC%9E%90%EC%9D%B8%ED%8C%A8%ED%84%B4.md)
   - `헤드퍼스트 디자인 패턴` 도서를 반 정도 읽었다.
   - `observer`, `decorator`, `factory`, `singleton`, `command` 패턴을 공부하였다.
6. 하둡
   - [KOCW 강의를 통해 하둡 공부](https://github.com/mingdyuo/Let-me-be-a-BE-developer/blob/main/Server/%5B%EA%B0%95%EC%9D%98%5D%20%EB%B9%85%EB%8D%B0%EC%9D%B4%ED%84%B0%20%EB%B6%84%EC%82%B0%EC%BB%B4%ED%93%A8%ED%8C%85.md)를 시작해 보았다. 도입 정도만 보았다.

### 아쉬운 점 돌이켜보기

1. `C++`
   - `C++`에서 사용할 수 있는 `lock`의 종류를 좀더 공부하고, 효율적인 `lock`으로 변경해야겠다.
2. 채팅서버 리팩토링, 스트레스 서버 제작
   - 콘솔 기반이라 입출력이 동시에 안되고, 매번 좌표 체크해가면서 출력 처리 하는게 좀 번거롭다.
   - 인던서버에서 만든 스트림 패킷 처리 방식으로 빨리 리팩토링하고 싶다. 진짜 코드 너무 지저분해서 빨리 리팩토링 하고싶다 빨리빨리
   - 스트레스 서버를 만들었는데, 이게 패킷 로스 없이 보낸 것을 그대로 받는지 등을 알 수 없다. 개수를 세서 체크해보려고 했는데, `send` 부분에서 동시에 켜놓으면 꼬이는 부분이 존재한다. 그거 해결하고 패킷 잘 주고 받는지 확인해봐야겠다.
3. 인던 서버 제작
   - 디자인 패턴 배운것들을 좀 적용하고 싶은데 아직은 시기상조인 것 같다. 내 지식이 조금만 더 농익을 때까지 기다리자.
   - 패킷을 생성하고 해제하는 부분을 아직 처리하지 못했다. 같은 패킷을 여러 클라이언트에게 보내는 경우 `shared_ptr`처럼 레퍼런스 횟수를 저장해서 할당해제를 관리하고 싶다.
   - `Stream`, `IoData` 객체의 풀을 만들어서 사용하고 싶다.
4. 객체 지향 공부
   - 6장부터 뒷부분은 잘 이해가 안간다. 전체적인 복습을 다시 해야겠다.
5. 디자인 패턴
   - 여러 개의 패턴을 공부하긴 했는데 이해는 했지만 머릿속에 남아 있는 게 없다. 복습하고 해당 패턴들을 직접 구현 해봐야겠다.
   - 책의 코드가 모두 `java`로 작성되어 있어서 객체 생성, 전달 부분을 `C++`로 한다면 어떻게 해야 할지 모르겠다. 
   - 남은 뒷부분도 마저 읽어봐야겠다.
6. 하둡
   - `Cloudera`가 유료화 되어서 실습을 진행할 수가 없다. 그래서 그냥 보기만 하면서 공부해야 함
   - 좀만 더 꾸준히 봤으면 좋겠다.
7. 기타
   - 사이드 프로젝트 하나도 못했다 
   - 코딩 테스트 준비를 못하고 있어서 아쉽다. 에너지가 너무 딸린다.
   - RDBMS 모델링 강의도 마저 듣고 복습하고 싶은데 못하고 있다.
   - `Velog` 팠는데 사이드 프로젝트를 하다 말아서 아무것도 못올리고 있다.
   - 도커 강의도 듣고 싶다,,
   - 런닝 지속해야겠다 눈썹 문신한 이후로 굉장히 띄엄띄엄 하고 있다.

