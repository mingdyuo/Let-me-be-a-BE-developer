## 5월

| 주차                   | 내용                                                       |
| ---------------------- | ---------------------------------------------------------- |
| 첫째주 (05.02 ~ 05.08) | 인던 서버 설계 / 리소스 로드하여 실행<br />클라이언트 구현 |
| 둘째주 (05.09 ~ 05.15) | I/O 스레드 분리, Indun 자체 기능 서버 및 클라이언트 구현   |
| 셋째주 (05.16 ~ 05.22) | 인던 내 그룹 시스템, 인던 풀<br />채팅 서버 리팩토링       |
| 넷째주 (05.23 ~ 05.29) | 인던 서버 로그 작업<br />채팅 서버 리팩토링                |

<br>

### 한 것들

1. 인던 서버 제작

   - `Stream` 패킷 전송 방식을 마무리하고 구현에 돌입하였다.
   - I/O 스레드와 게임 로직 처리를 완전히 분리하였다.
   - Indun 서버 내 기능을 기획서와 리소스를 기반으로 구현하였다.
   - 특정 시간이 지나고 조건을 만족시키면 생성된 객체를 소멸시켜야 하는 상황이 있었다. Naver D2 블로그에서 `Timer Wheel` 이라는 기법을 찾아보았고 이를 적용시켜 보았다. 
   - 로그 시스템에 대해서 배우고 `spdlog`를 적용해 보았다. 파일과 콘솔에 각각 찍힐 수 있게 하였으며 로그 레벨을 다르게 해서 적용하였다.
   - 인던 풀을 만들어보았다. (완성은 못했다.)

2. [채팅 서버 리팩토링 v1.1](https://github.com/mingdyuo/TCP-socket-chatting-server)

   - 패킷 형식을 단순 구조체에서 `Stream` 클래스로 변경하였다. 

     각 패킷 클래스에는 정보를 멤버 형태로 가지고 있을 수 있고, `IOCP`에서 `send` 혹은 `recv`할 때 직렬화/역직렬화를 시키며 송신 및 수신 한다.

   - 인던 서버에서 쓴 방식처럼 `Session`을 상속받아서 유저 클래스를 만드는 것이 아닌, 멤버로 가지고 있도록 만들었다. 또한 서버 클래스에서는 `Session`과 `Logic thread`만 가지고 있으며 다른 클래스는 건들지 않도록 만들었다. 

   - `Room`과 `RoomManager`를 새로 도입하여 방을 동적으로 생성할 수 있도록 구현하고 있다. 현재 방 생성까지는 구현했으며, 앞으로 추가 구현해야 하는 것은 방제 지정하는것, 방 삭제하는 것 등이 있다.

   - 채팅방 내에서 Unicast, Multicast, Broadcast를 구현하였다. 

   - 채팅방 입퇴장을 구현하였다.

3. `C++`

   - [좌, 우측값과 `universal reference`](https://github.com/mingdyuo/tml/blob/main/C%2B%2B/C%2B%2B%20%ED%86%A0%EB%A7%89%20%EC%A0%95%EB%A6%AC%20-%202.md)를 공부하였다.

4. CS 전공 공부

   - [KOCW 네트워크 강의](http://www.kocw.net/home/search/kemView.do?kemId=1046412)를 다시 들으며 복습하였다. - 특히 TCP 부분 위주로 다시 들었다.
   - OS 수업때 썼던 피피티를 다시 복습하였다. 프로세스/스레드/동기화/스케쥴링/메모리 위주로 보았다.
   - Github에서 면접용 [레포1](https://github.com/JaeYeopHan/Interview_Question_for_Beginner), 

5. [토스 컨퍼런스 정리](https://github.com/mingdyuo/tml/blob/main/Seminar/SLASH%2021%20%ED%86%A0%EC%8A%A4%20%EA%B0%9C%EB%B0%9C%EC%9E%90%20%EC%BB%A8%ED%8D%BC%EB%9F%B0%EC%8A%A4%20-%20Day%2001.md)

   - Day 01의 첫번째 영상을 다 보았다. 
   - Day 01의 두번째 영상을 보고 있다.

6. `객체지향의 사실과 오해` 복습

   - 핵심이 되는 내용은 거진 다 읽은 것 같다. 확실히 도움이 많이 되었다. 그 객체와 프로그램 내에서 리소스 간의 상호작용이라는 미묘한 지점을 바라보는 눈이 달라진 것 같다.

7. [`데이터 중심 어플리케이션 설계` 읽기](https://github.com/mingdyuo/tml/blob/main/Server/%5B%EB%8F%84%EC%84%9C%5D%20%EB%8D%B0%EC%9D%B4%ED%84%B0%20%EC%A4%91%EC%8B%AC%20%EC%95%A0%ED%94%8C%EB%A6%AC%EC%BC%80%EC%9D%B4%EC%85%98%20%EC%84%A4%EA%B3%84.md)

   - 1장을 읽었다.

### 아쉬운 점 돌이켜보기

1. 인던 서버 제작

   - 콘솔에서 그림 그리는게 `system("cls");`를 통해서 정보가 올 때마다 매번 다시 그리기 때문에 깜빡임이 심했다. 더블 버퍼링과 같은 방법이 있긴 하지만 다시 쓸일 없을 것을 굳이 찾아서 공부해서 적용해야 하는 의문이 들어서 안하긴 했는데 찝찝했다.
   - 

2. 채팅 서버 리팩토링

   - 채팅 프로그램을 종료할 때 클라이언트를 2번 해제하는 버그가 발생해서 수정해야 한다.
   - `Stream`과 `IOData`도 추후에 pool 형식으로 만들어서 동적 할당 오버헤드를 줄일 수 있다면 좋겠다.
   - 스트레스 서버도 리팩토링 해야 한다.

3. `C++`

   - Modern `C++`에서 아직 부족한 부분이 많이 있다. 비동기 작업과 템플릿, 우측값과 `move`, 병렬 알고리즘, 정규 표현식 등등....

     이제 자바를 해야 할텐데 아예 버려?

4. CS 전공 공부

   - KOCW 네트워크 강의의 다 듣지 못한 부분도 다시 들어야겠다. 오랜만에 보니까 다시 새로운 부분이 많았다.

   - OS 피피티도 스레드 프로그래밍을 한번 하고 다시 보니까 더 이해되는 부분이 많았다. 메모리 부분을 다시 복습하고, 파일 시스템 부분을 따로 공부해봐야겠다. 당시 학기 중에 파일 시스템을 제대로 공부하지 못해서 아쉬웠다. 성용교수님의 강의도 다시 들어보며 준나 탄탄하게 다져야겠다.

   - 데이터베이스 전공 지식이 굉장히 부족하다는 것을 다시금 느꼈다. KOCW의 DB 강좌와 + 인프런에서 수강하던 모델링 강좌 + 도서(데이터베이스 중심 애플리케이션 설계)를 볼 예정이다.

     SQLD / SQLP를 공부 목적으로 신청할까 고민중이다.

5. 토스 컨퍼런스 정리

   - 모르는 것들이 엄청 많다. 빠르게 훑고 다시 되새김질 해야겠다.
   - 일단 현재는 인프라와 서버에서 사용하는 기술 위주로 설명이 되어 있다. 모든 선택에는 근거가 있었고, 장단점과 서비스의 특성을 함께 고려하였는데 그 지점을 잘 설명해 주시는 것 같다. 제대로 된 소프트웨어 엔지니어가 되려면 인프라와 하드웨어적인 개념도 잘 알아두어야겠다.

   - 모니터링 메트릭에 대한 지식과 수치를 읽는 눈도 길러두어야 겠다.

6. `객체지향의 사실과 오해` 복습

7. `데이터 중심 어플리케이션 설계` 읽기
